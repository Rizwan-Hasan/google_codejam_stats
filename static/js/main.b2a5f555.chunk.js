(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5464:function(e,t,n){e.exports=n(5714)},5714:function(e,t,n){"use strict";n.r(t);var r,a=n(0),o=n.n(a),s=n(21),l=n.n(s),c=n(22),i=n(23),u=n(25),m=n(24),p=n(26),d=n(33),h=n.n(d),f=n(60),g=n(20),b=n(3),E=n(29),y=n(61);!function(e){e.NONE="NONE",e.SCORE="SCORE",e.RANK="RANK"}(r||(r={}));var w=n(43),v=function(e){return Object(g.createStyles)({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:Object(w.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),drawerPaper:{width:240},content:{flexGrow:1,padding:3*e.spacing.unit,display:"flex",flexDirection:"column",overflowX:"auto"},toolbar:e.mixins.toolbar,progress:{margin:2*e.spacing.unit,alignSelf:"center"},menuButton:Object(w.a)({marginRight:20},e.breakpoints.up("sm"),{display:"none"}),tableRoot:{overflowX:"auto"}})},O=n(62),k=n.n(O),j=function(e){if(e.status<200||e.status>=300)throw new Error(e.status+": "+e.statusText);return e.data},x=function(e){return k.a.get("round_data/info/".concat(e,".json")).then(j)},S=function(e){return k.a.get("round_data/scores/".concat(e,".json")).then(j)},N=(n(5633),function(e,t){return e.filter(function(e){return e.score1===t})}),C=function(e){return e.map(function(e){return e.taskInfo.map(function(e){return e.totalAttempts}).sum()}).sum()},R=function(e){return e.filter(function(e){return e.taskInfo.filter(function(e){return e.score>0}).length>0})},A=function(e,t,n,r){return new Map(Array.from(e.groupBy(function(e,t,n){return e.country}).entries()).map(function(e){return[e[0],t(e[1])]}).sort(function(e,t){return n(e[1],t[1])}).slice(0,r))},D=Object(g.withStyles)(v,{withTheme:!0})(function(e){var t=e.data,n=e.title,r=e.label,a=e.theme;return o.a.createElement(y.b,{options:{scales:{xAxes:[{ticks:{beginAtZero:!0}}]},title:{display:!0,text:n},legend:{display:!1}},data:{labels:Array.from(t.keys()),datasets:[{label:r,backgroundColor:a.palette.primary.light,borderColor:a.palette.primary.dark,borderWidth:1,hoverBackgroundColor:a.palette.secondary.light,hoverBorderColor:a.palette.secondary.dark,data:Array.from(t.values())}]}})}),T=n(172),B=Object(g.withStyles)(function(e){return Object(g.createStyles)(Object(T.a)({},v,{card:{textAlign:"center"}}))})(function(e){var t=e.number,n=e.label,r=e.classes;return o.a.createElement(b.b,null,o.a.createElement(b.c,{className:r.card},o.a.createElement(b.u,{variant:"h2"},t),o.a.createElement(b.u,{color:"textSecondary"},n)))}),L=Object(g.withStyles)(v,{withTheme:!0})(function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={isLoading:!1,roundInfo:void 0,roundResults:[]},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(){var e=Object(f.a)(h.a.mark(function e(t){var n,r,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props!=t){e.next=2;break}return e.abrupt("return");case 2:if(t.round){e.next=5;break}return this.setState({isLoading:!1,roundInfo:void 0,roundResults:[]}),e.abrupt("return");case 5:return this.setState({isLoading:!0}),n=t.round.id,e.next=9,x(n);case 9:return r=e.sent,e.next=12,S(n);case 12:a=e.sent,console.log(r,a),this.setState({isLoading:!1,roundInfo:r,roundResults:a});case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"renderHelp",value:function(){return o.a.createElement(b.u,{paragraph:!0},"Please select a round from the side menu.")}},{key:"renderStats",value:function(e,t){var n=this.props.round?this.props.round.qualification:void 0,a=function(e){return e.challenge.tasks.map(function(e){return e.tests.map(function(e){return e.value}).sum()}).sum()}(e),s=function(e,t){return A(e,function(e){return e.length},function(e,t){return-e+t},t)}(t,10),l=function(e,t){return A(e,function(e){return e.map(function(e){return e.score1}).average()},function(e,t){return-e+t},t)}(t,10),c=function(e,t,n){return A(e,function(e){return e.filter(function(e){return e.score1===t}).length},function(e,t){return-e+t},n)}(t,a,10),i=function(e,t,n){for(var r=new Map(Array.from(e.groupBy(function(e,t,n){return e.score1})).map(function(e){return[e[0],e[1].length]}).sort(function(e,t){return e[0]-t[0]})),a=[],o=t;o<=n;o++)a.push(o);return new Map(a.map(function(e){return[e,r.get(e)||0]}))}(t,0,a);return console.log(i),console.log(n),o.a.createElement(b.g,{container:!0,spacing:16},o.a.createElement(b.g,{item:!0,xs:12,sm:6,md:3},o.a.createElement(B,{number:e.fullScoreboardSize,label:"participants worldwide"})),o.a.createElement(b.g,{item:!0,xs:12,sm:6,md:3},o.a.createElement(B,{number:N(t,a).length,label:"perfect scores"})),o.a.createElement(b.g,{item:!0,xs:12,sm:6,md:3},o.a.createElement(B,{number:C(t),label:"submissions in total"})),o.a.createElement(b.g,{item:!0,xs:12,sm:6,md:3},o.a.createElement(B,{number:R(t).length,label:"people solved at least one test set"})),o.a.createElement(b.g,{item:!0,xs:12,md:6},o.a.createElement(D,{data:s,title:"Number of participants per country (top ".concat(s.size,")"),label:"number of participants"})),o.a.createElement(b.g,{item:!0,xs:12,md:6},o.a.createElement(D,{data:l,title:"Top ".concat(l.size," countries by average score"),label:"average score"})),o.a.createElement(b.g,{item:!0,xs:12,md:6},o.a.createElement(D,{data:c,title:"Top ".concat(c.size," countries with the most top-scorers"),label:"number of top-scorers"})),o.a.createElement(b.g,{item:!0,xs:12,md:6},o.a.createElement(y.a,{options:{scales:{xAxes:[{ticks:{beginAtZero:!0},barPercentage:1,categoryPercentage:1}]},title:{display:!0,text:"Score distribution"},legend:{display:!1}},data:{labels:Array.from(i.keys()),datasets:[{label:"number of participants",backgroundColor:this.props.theme.palette.primary.light,hoverBackgroundColor:this.props.theme.palette.secondary.light,data:Array.from(i.values())}]}})),o.a.createElement(b.g,{item:!0,xs:12},o.a.createElement(b.n,{className:this.props.classes.tableRoot},o.a.createElement(b.o,null,o.a.createElement(b.r,null,o.a.createElement(b.s,null,o.a.createElement(b.q,null,"Rank"),o.a.createElement(b.q,null,"Username"),o.a.createElement(b.q,null,"Score"),n&&n.type!==r.NONE?o.a.createElement(b.q,null,"Qualified"):null)),o.a.createElement(b.p,null,t.filter(function(e){return"Lithuania"==e.country}).sort(function(e,t){return e.rank-t.rank}).map(function(e,t){return o.a.createElement(b.s,{key:t},o.a.createElement(b.q,null,e.rank),o.a.createElement(b.q,null,e.displayname),o.a.createElement(b.q,null,e.score1),n?n.type===r.RANK?o.a.createElement(b.q,null,o.a.createElement(b.i,null,e.rank<=n.threshold?o.a.createElement(E.a,null):o.a.createElement(E.b,null))):n.type===r.SCORE?o.a.createElement(b.q,null,o.a.createElement(b.i,null,e.score1>=n.threshold?o.a.createElement(E.a,null):o.a.createElement(E.b,null))):null:null)}))))))}},{key:"render",value:function(){return o.a.createElement("main",{className:this.props.classes.content},o.a.createElement("div",{className:this.props.classes.toolbar}),this.state.isLoading?o.a.createElement(b.d,{className:this.props.classes.progress,color:"secondary"}):this.state.roundInfo?this.renderStats(this.state.roundInfo,this.state.roundResults):this.renderHelp())}}]),t}(a.Component)),q=Object(g.withStyles)(v)(function(e){var t=e.classes,n=e.onDrawerToggle;return o.a.createElement(b.a,{position:"fixed",className:t.appBar},o.a.createElement(b.t,null,o.a.createElement(b.j,{color:"inherit","aria-label":"Open drawer",onClick:n,className:t.menuButton},o.a.createElement(E.c,null)),o.a.createElement(b.u,{variant:"h6",color:"inherit",noWrap:!0},"Google Code Jam Statistics")))}),I=Object(g.withStyles)(v,{withTheme:!0})(function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={isDrawerOpen:!1},n.handleDrawerToggle=function(){n.setState({isDrawerOpen:!n.state.isDrawerOpen})},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"renderDrawer",value:function(e){var t=this,n=this.props,r=n.classes,a=n.isLoading,s=n.rounds,l=n.onRoundClicked;return a?o.a.createElement(b.d,{className:r.progress}):o.a.createElement(b.k,null,s.map(function(n){return o.a.createElement(b.l,{key:n.id,button:!0},o.a.createElement(b.m,{primary:"".concat(n.displayName," ").concat(n.year),onClick:function(){e&&t.handleDrawerToggle(),l(n)}}))}))}},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",null,o.a.createElement(q,{onDrawerToggle:this.handleDrawerToggle}),o.a.createElement("nav",{className:e.drawer},o.a.createElement(b.h,{smUp:!0,implementation:"css"},o.a.createElement(b.f,{className:e.drawer,variant:"temporary",anchor:"rtl"===this.props.theme.direction?"right":"left",open:this.state.isDrawerOpen,onClose:this.handleDrawerToggle,classes:{paper:e.drawerPaper}},this.renderDrawer(!0))),o.a.createElement(b.h,{xsDown:!0,implementation:"css"},o.a.createElement(b.f,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},open:!0},o.a.createElement("div",{className:e.toolbar}),this.renderDrawer(!1)))))}}]),t}(a.Component)),P=Object(g.withStyles)(v)(function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={rounds:[],isLoading:!0},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("config.json").then(j);case 2:return t=e.sent,e.next=5,new Promise(function(e){return setTimeout(e,1e3)});case 5:this.setState({rounds:t.rounds,isLoading:!1});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoading,r=t.rounds,a=t.selectedRound,s=this.props.classes;return o.a.createElement("div",{className:s.root},o.a.createElement(I,Object.assign({},this.props,{isLoading:n,rounds:r,onRoundClicked:function(t){return e.setState({selectedRound:t})}})),o.a.createElement(L,Object.assign({},this.props,{round:a})))}}]),t}(a.Component)),z=n(42),M=Object(g.createMuiTheme)({palette:{primary:z.indigo,secondary:z.pink,type:"light"},typography:{useNextVariants:!0}}),W=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(g.MuiThemeProvider,{theme:M},o.a.createElement(o.a.Fragment,null,o.a.createElement(b.e,null),o.a.createElement(P,null)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(28);l.a.render(o.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5464,1,2]]]);
//# sourceMappingURL=main.b2a5f555.chunk.js.map