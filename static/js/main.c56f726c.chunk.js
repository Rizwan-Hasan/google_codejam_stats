(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5473:function(e,t,r){e.exports=r(5740)},5740:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(22),s=r.n(o),i=r(24),c=r(25),l=r(27),u=r(26),m=r(28),p=r(35),d=r.n(p),h=r(63),f=r(18),g=r(3),b=r(173),y=r.n(b),E=r(178),w=Object(E.a)(y.a.create()),v=function(e){if(e.status<200||e.status>=300)throw new Error(e.status+": "+e.statusText);return e.data},k=function(e){return w.get("round_data/info/".concat(e,".json")).then(v)},O=function(e){return w.get("round_data/scores/".concat(e,".json")).then(v)},j=r(46),x=function(e){return Object(f.createStyles)({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:Object(j.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),drawerPaper:{width:240},content:{flexGrow:1,padding:3*e.spacing.unit,display:"flex",flexDirection:"column",overflowX:"auto"},toolbar:e.mixins.toolbar,progress:{margin:2*e.spacing.unit,alignSelf:"center"},menuButton:Object(j.a)({marginRight:20},e.breakpoints.up("sm"),{display:"none"}),tableRoot:{overflowX:"auto"}})},S=r(175),C=Object(f.withStyles)(function(e){return Object(f.createStyles)(Object(S.a)({},x,{card:{textAlign:"center"}}))})(function(e){var t=e.number,r=e.label,n=e.classes;return a.a.createElement(g.b,null,a.a.createElement(g.c,{className:n.card},a.a.createElement(g.t,{variant:"h2"},t),a.a.createElement(g.t,{color:"textSecondary"},r)))}),D=(r(5624),function(e,t){return e.filter(function(e){return e.score_1===t})}),B=function(e){return e.map(function(e){return e.taskInfo.map(function(e){return e.totalAttempts}).sum()}).sum()},N=function(e){return e.filter(function(e){return e.taskInfo.filter(function(e){return e.score>0}).length>0})},R=function(e,t,r,n){return new Map(Array.from(e.groupBy(function(e,t,r){return e.country}).entries()).map(function(e){return[e[0],t(e[1])]}).sort(function(e,t){return r(e[1],t[1])}).slice(0,n))},T=r(66),A=Object(f.withStyles)(x,{withTheme:!0})(function(e){var t=e.data,r=e.title,n=e.theme;return a.a.createElement(T.a,{options:{scales:{xAxes:[{ticks:{beginAtZero:!0}}]}},data:{labels:Array.from(t.keys()),datasets:[{label:r,backgroundColor:n.palette.primary.light,borderColor:n.palette.primary.dark,borderWidth:1,hoverBackgroundColor:n.palette.secondary.light,hoverBorderColor:n.palette.secondary.dark,data:Array.from(t.values())}]}})}),L=Object(f.withStyles)(x,{withTheme:!0})(function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={isLoading:!1,roundInfo:void 0,roundResults:[]},r}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(){var e=Object(h.a)(d.a.mark(function e(t){var r,n,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props!=t){e.next=2;break}return e.abrupt("return");case 2:if(t.round){e.next=5;break}return this.setState({isLoading:!1,roundInfo:void 0,roundResults:[]}),e.abrupt("return");case 5:return this.setState({isLoading:!0}),r=t.round.id,e.next=9,k(r);case 9:return n=e.sent,e.next=12,O(r);case 12:a=e.sent,console.log(n,a),this.setState({isLoading:!1,roundInfo:n,roundResults:a});case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"renderHelp",value:function(){return a.a.createElement(g.t,{paragraph:!0},"Please select a round from the side menu.")}},{key:"renderStats",value:function(e,t){var r=function(e){return e.challenge.tasks.map(function(e){return e.tests.map(function(e){return e.value}).sum()}).sum()}(e),n=function(e,t){return R(e,function(e){return e.length},function(e,t){return-e+t},t)}(t,20),o=function(e,t){return R(e,function(e){return e.map(function(e){return e.score_1}).average()},function(e,t){return-e+t},t)}(t,20),s=function(e,t,r){return R(e,function(e){return e.filter(function(e){return e.score_1===t}).length},function(e,t){return-e+t},r)}(t,r,20),i=function(e,t,r){for(var n=new Map(Array.from(e.groupBy(function(e,t,r){return e.score_1})).map(function(e){return[e[0],e[1].length]}).sort(function(e,t){return e[0]-t[0]})),a=[],o=t;o<=r;o++)a.push(o);return new Map(a.map(function(e){return[e,n.get(e)||0]}))}(t,0,r);return console.log(i),a.a.createElement(g.g,{container:!0,spacing:16},a.a.createElement(g.g,{item:!0,xs:12,sm:6,md:4},a.a.createElement(C,{number:e.fullScoreboardSize,label:"participants worldwide"})),a.a.createElement(g.g,{item:!0,xs:12,sm:6,md:4},a.a.createElement(C,{number:D(t,r).length,label:"perfect scores"})),a.a.createElement(g.g,{item:!0,xs:12,sm:6,md:4},a.a.createElement(C,{number:B(t),label:"submissions in total"})),a.a.createElement(g.g,{item:!0,xs:12,sm:6,md:4},a.a.createElement(C,{number:N(t).length,label:"people solved at least one test set"})),a.a.createElement(g.g,{item:!0,xs:12,md:6},a.a.createElement(A,{data:n,title:"Number of participants per country (top ".concat(n.size,")")})),a.a.createElement(g.g,{item:!0,xs:12,md:6},a.a.createElement(A,{data:o,title:"Top ".concat(o.size," countries by average score")})),a.a.createElement(g.g,{item:!0,xs:12,md:6},a.a.createElement(A,{data:s,title:"Top ".concat(s.size," countries with the most top-scorers")})),a.a.createElement(g.g,{item:!0,xs:12,md:6},a.a.createElement(T.b,{data:{labels:Array.from(i.keys()),datasets:[{label:"Point distribution",fill:!1,lineTension:.1,backgroundColor:this.props.theme.palette.primary.light,borderColor:this.props.theme.palette.primary.dark,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:this.props.theme.palette.primary.dark,pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:this.props.theme.palette.secondary.light,pointHoverBorderColor:this.props.theme.palette.secondary.dark,pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:Array.from(i.values())}]}})),a.a.createElement(g.g,{item:!0,xs:12},a.a.createElement(g.m,{className:this.props.classes.tableRoot},a.a.createElement(g.n,null,a.a.createElement(g.q,null,a.a.createElement(g.r,null,a.a.createElement(g.p,null,"Rank"),a.a.createElement(g.p,null,"Username"),a.a.createElement(g.p,null,"Score"))),a.a.createElement(g.o,null,t.filter(function(e){return"Lithuania"==e.country}).sort(function(e,t){return e.rank-t.rank}).map(function(e,t){return a.a.createElement(g.r,{key:t},a.a.createElement(g.p,null,e.rank),a.a.createElement(g.p,null,e.displayname),a.a.createElement(g.p,null,e.score_1))}))))))}},{key:"render",value:function(){return a.a.createElement("main",{className:this.props.classes.content},a.a.createElement("div",{className:this.props.classes.toolbar}),this.state.isLoading?a.a.createElement(g.d,{className:this.props.classes.progress,color:"secondary"}):this.state.roundInfo?this.renderStats(this.state.roundInfo,this.state.roundResults):this.renderHelp())}}]),t}(n.Component)),I=r(177),P=Object(f.withStyles)(x)(function(e){var t=e.classes,r=e.onDrawerToggle;return a.a.createElement(g.a,{position:"fixed",className:t.appBar},a.a.createElement(g.s,null,a.a.createElement(g.i,{color:"inherit","aria-label":"Open drawer",onClick:r,className:t.menuButton},a.a.createElement(I.a,null)),a.a.createElement(g.t,{variant:"h6",color:"inherit",noWrap:!0},"Google Code Jam Statistics")))}),H=Object(f.withStyles)(x,{withTheme:!0})(function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={isDrawerOpen:!1},r.handleDrawerToggle=function(){r.setState({isDrawerOpen:!r.state.isDrawerOpen})},r}return Object(m.a)(t,e),Object(c.a)(t,[{key:"renderDrawer",value:function(e){var t=this,r=this.props,n=r.classes,o=r.isLoading,s=r.rounds,i=r.onRoundClicked;return o?a.a.createElement(g.d,{className:n.progress}):a.a.createElement(g.j,null,s.map(function(r){return a.a.createElement(g.k,{key:r.id,button:!0},a.a.createElement(g.l,{primary:"".concat(r.displayName," ").concat(r.year),onClick:function(){e&&t.handleDrawerToggle(),i(r)}}))}))}},{key:"render",value:function(){var e=this.props.classes;return a.a.createElement("div",null,a.a.createElement(P,{onDrawerToggle:this.handleDrawerToggle}),a.a.createElement("nav",{className:e.drawer},a.a.createElement(g.h,{smUp:!0,implementation:"css"},a.a.createElement(g.f,{className:e.drawer,variant:"temporary",anchor:"rtl"===this.props.theme.direction?"right":"left",open:this.state.isDrawerOpen,onClose:this.handleDrawerToggle,classes:{paper:e.drawerPaper}},this.renderDrawer(!0))),a.a.createElement(g.h,{xsDown:!0,implementation:"css"},a.a.createElement(g.f,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},open:!0},a.a.createElement("div",{className:e.toolbar}),this.renderDrawer(!1)))))}}]),t}(n.Component)),W=Object(f.withStyles)(x)(function(e){function t(){var e,r;Object(i.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={rounds:[],isLoading:!0},r}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get("config.json").then(v);case 2:return t=e.sent,e.next=5,new Promise(function(e){return setTimeout(e,1e3)});case 5:this.setState({rounds:t.rounds,isLoading:!1});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,r=t.isLoading,n=t.rounds,o=t.selectedRound,s=this.props.classes;return a.a.createElement("div",{className:s.root},a.a.createElement(H,Object.assign({},this.props,{isLoading:r,rounds:n,onRoundClicked:function(t){return e.setState({selectedRound:t})}})),a.a.createElement(L,Object.assign({},this.props,{round:o})))}}]),t}(n.Component)),_=r(45),z=Object(f.createMuiTheme)({palette:{primary:_.indigo,secondary:_.pink,type:"light"},typography:{useNextVariants:!0}}),M=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement(f.MuiThemeProvider,{theme:z},a.a.createElement(a.a.Fragment,null,a.a.createElement(g.e,null),a.a.createElement(W,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(31);s.a.render(a.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5473,1,2]]]);
//# sourceMappingURL=main.c56f726c.chunk.js.map