(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{204:function(e,t,n){e.exports=n(367)},367:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(19),o=n.n(s),c=n(26),i=n(27),l=n(29),u=n(28),d=n(30),p=n(31),m=n.n(p),h=n(46),f=n(118),g=n.n(f),E=n(120),b=Object(E.a)(g.a.create()),v=function(e){if(e.status<200||e.status>=300)throw new Error(e.status+": "+e.statusText);return e.data},k=function(e){return b.get("round_data/info/".concat(e,".json")).then(v)},y=function(e){return b.get("round_data/scores/".concat(e,".json")).then(v)},w=n(18),j=n(4),O=function(e){var t=e.isLoading,n=e.rounds,a=e.onRoundClicked,s=e.classes;return r.a.createElement(j.d,{className:s.drawer,variant:"permanent",classes:{paper:s.drawerPaper}},r.a.createElement("div",{className:s.toolbar}),t?r.a.createElement(j.b,{className:s.progress}):r.a.createElement(j.e,null,n.map(function(e){return r.a.createElement(j.f,{key:e.id,button:!0},r.a.createElement(j.g,{primary:"".concat(e.displayName," ").concat(e.year),onClick:function(){return a(e)}}))})))},x=function(e){var t=e.classes;return r.a.createElement(j.a,{position:"fixed",className:t.appBar},r.a.createElement(j.n,null,r.a.createElement(j.o,{variant:"h6",color:"inherit",noWrap:!0},"Google Code Jam Statistics")))},S=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1,roundInfo:void 0,roundResults:[]},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(){var e=Object(h.a)(m.a.mark(function e(t){var n,a,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props!=t){e.next=2;break}return e.abrupt("return");case 2:if(t.round){e.next=5;break}return this.setState({isLoading:!1,roundInfo:void 0,roundResults:[]}),e.abrupt("return");case 5:return this.setState({isLoading:!0}),n=t.round.id,e.next=9,k(n);case 9:return a=e.sent,e.next=12,y(n);case 12:r=e.sent,console.log(a,r),this.setState({isLoading:!1,roundInfo:a,roundResults:r});case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"renderHelp",value:function(){return r.a.createElement(j.o,{paragraph:!0},"Please select a round from the side menu.")}},{key:"renderStats",value:function(e,t){return r.a.createElement("div",null,r.a.createElement(j.o,{paragraph:!0},e.fullScoreboardSize," people participated in this round. Here are the results of Lithuanian participants:"),r.a.createElement(j.h,null,r.a.createElement(j.i,null,r.a.createElement(j.l,null,r.a.createElement(j.m,null,r.a.createElement(j.k,null,"Rank"),r.a.createElement(j.k,null,"Username"),r.a.createElement(j.k,null,"Score"))),r.a.createElement(j.j,null,t.filter(function(e){return"Lithuania"==e.country}).sort(function(e,t){return e.rank-t.rank}).map(function(e,t){return r.a.createElement(j.m,{key:t},r.a.createElement(j.k,null,e.rank),r.a.createElement(j.k,null,e.displayname),r.a.createElement(j.k,null,e.score_1))})))))}},{key:"render",value:function(){return r.a.createElement("main",{className:this.props.classes.content},r.a.createElement("div",{className:this.props.classes.toolbar}),this.state.isLoading?r.a.createElement(j.b,{className:this.props.classes.progress,color:"secondary"}):this.state.roundInfo?this.renderStats(this.state.roundInfo,this.state.roundResults):this.renderHelp())}}]),t}(a.Component),L=Object(w.withStyles)(function(e){return Object(w.createStyles)({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},content:{flexGrow:1,padding:3*e.spacing.unit},toolbar:e.mixins.toolbar,progress:{margin:2*e.spacing.unit,alignSelf:"center"}})})(function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={rounds:[],isLoading:!0},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.get("config.json").then(v);case 2:return t=e.sent,e.next=5,new Promise(function(e){return setTimeout(e,1e3)});case 5:this.setState({rounds:t.rounds,isLoading:!1});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoading,a=t.rounds,s=t.selectedRound,o=this.props.classes;return r.a.createElement("div",{className:o.root},r.a.createElement(x,this.props),r.a.createElement(O,Object.assign({},this.props,{isLoading:n,rounds:a,onRoundClicked:function(t){return e.setState({selectedRound:t})}})),r.a.createElement(S,Object.assign({},this.props,{round:s})))}}]),t}(a.Component)),N=n(35),R=Object(w.createMuiTheme)({palette:{primary:N.indigo,secondary:N.pink,type:"light"},typography:{useNextVariants:!0}}),I=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(w.MuiThemeProvider,{theme:R},r.a.createElement(r.a.Fragment,null,r.a.createElement(j.c,null),r.a.createElement(L,null)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[204,1,2]]]);
//# sourceMappingURL=main.88556c61.chunk.js.map