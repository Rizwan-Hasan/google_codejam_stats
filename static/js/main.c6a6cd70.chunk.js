(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5463:function(e,t,n){e.exports=n(5713)},5713:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(21),s=n.n(o),c=n(22),i=n(23),l=n(25),u=n(24),m=n(26),p=n(32),d=n.n(p),h=n(59),f=n(19),g=n(3),b=n(60),y=n(42),E=function(e){return Object(f.createStyles)({root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:Object(y.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),drawerPaper:{width:240},content:{flexGrow:1,padding:3*e.spacing.unit,display:"flex",flexDirection:"column",overflowX:"auto"},toolbar:e.mixins.toolbar,progress:{margin:2*e.spacing.unit,alignSelf:"center"},menuButton:Object(y.a)({marginRight:20},e.breakpoints.up("sm"),{display:"none"}),tableRoot:{overflowX:"auto"}})},w=n(61),v=n.n(w),k=function(e){if(e.status<200||e.status>=300)throw new Error(e.status+": "+e.statusText);return e.data},O=function(e){return v.a.get("round_data/info/".concat(e,".json")).then(k)},j=function(e){return v.a.get("round_data/scores/".concat(e,".json")).then(k)},x=(n(5632),function(e,t){return e.filter(function(e){return e.score1===t})}),S=function(e){return e.map(function(e){return e.taskInfo.map(function(e){return e.totalAttempts}).sum()}).sum()},C=function(e){return e.filter(function(e){return e.taskInfo.filter(function(e){return e.score>0}).length>0})},D=function(e,t,n,r){return new Map(Array.from(e.groupBy(function(e,t,n){return e.country}).entries()).map(function(e){return[e[0],t(e[1])]}).sort(function(e,t){return n(e[1],t[1])}).slice(0,r))},N=Object(f.withStyles)(E,{withTheme:!0})(function(e){var t=e.data,n=e.title,r=e.theme;return a.a.createElement(b.b,{options:{scales:{xAxes:[{ticks:{beginAtZero:!0}}]},title:{display:!0,text:n},legend:{display:!1}},data:{labels:Array.from(t.keys()),datasets:[{backgroundColor:r.palette.primary.light,borderColor:r.palette.primary.dark,borderWidth:1,hoverBackgroundColor:r.palette.secondary.light,hoverBorderColor:r.palette.secondary.dark,data:Array.from(t.values())}]}})}),A=n(167),T=Object(f.withStyles)(function(e){return Object(f.createStyles)(Object(A.a)({},E,{card:{textAlign:"center"}}))})(function(e){var t=e.number,n=e.label,r=e.classes;return a.a.createElement(g.b,null,a.a.createElement(g.c,{className:r.card},a.a.createElement(g.t,{variant:"h2"},t),a.a.createElement(g.t,{color:"textSecondary"},n)))}),R=Object(f.withStyles)(E,{withTheme:!0})(function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={isLoading:!1,roundInfo:void 0,roundResults:[]},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(){var e=Object(h.a)(d.a.mark(function e(t){var n,r,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props!=t){e.next=2;break}return e.abrupt("return");case 2:if(t.round){e.next=5;break}return this.setState({isLoading:!1,roundInfo:void 0,roundResults:[]}),e.abrupt("return");case 5:return this.setState({isLoading:!0}),n=t.round.id,e.next=9,O(n);case 9:return r=e.sent,e.next=12,j(n);case 12:a=e.sent,console.log(r,a),this.setState({isLoading:!1,roundInfo:r,roundResults:a});case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"renderHelp",value:function(){return a.a.createElement(g.t,{paragraph:!0},"Please select a round from the side menu.")}},{key:"renderStats",value:function(e,t){var n=function(e){return e.challenge.tasks.map(function(e){return e.tests.map(function(e){return e.value}).sum()}).sum()}(e),r=function(e,t){return D(e,function(e){return e.length},function(e,t){return-e+t},t)}(t,10),o=function(e,t){return D(e,function(e){return e.map(function(e){return e.score1}).average()},function(e,t){return-e+t},t)}(t,10),s=function(e,t,n){return D(e,function(e){return e.filter(function(e){return e.score1===t}).length},function(e,t){return-e+t},n)}(t,n,10),c=function(e,t,n){for(var r=new Map(Array.from(e.groupBy(function(e,t,n){return e.score1})).map(function(e){return[e[0],e[1].length]}).sort(function(e,t){return e[0]-t[0]})),a=[],o=t;o<=n;o++)a.push(o);return new Map(a.map(function(e){return[e,r.get(e)||0]}))}(t,0,n);return console.log(c),a.a.createElement(g.g,{container:!0,spacing:16},a.a.createElement(g.g,{item:!0,xs:12,sm:6,md:3},a.a.createElement(T,{number:e.fullScoreboardSize,label:"participants worldwide"})),a.a.createElement(g.g,{item:!0,xs:12,sm:6,md:3},a.a.createElement(T,{number:x(t,n).length,label:"perfect scores"})),a.a.createElement(g.g,{item:!0,xs:12,sm:6,md:3},a.a.createElement(T,{number:S(t),label:"submissions in total"})),a.a.createElement(g.g,{item:!0,xs:12,sm:6,md:3},a.a.createElement(T,{number:C(t).length,label:"people solved at least one test set"})),a.a.createElement(g.g,{item:!0,xs:12,md:6},a.a.createElement(N,{data:r,title:"Number of participants per country (top ".concat(r.size,")")})),a.a.createElement(g.g,{item:!0,xs:12,md:6},a.a.createElement(N,{data:o,title:"Top ".concat(o.size," countries by average score")})),a.a.createElement(g.g,{item:!0,xs:12,md:6},a.a.createElement(N,{data:s,title:"Top ".concat(s.size," countries with the most top-scorers")})),a.a.createElement(g.g,{item:!0,xs:12,md:6},a.a.createElement(b.a,{options:{scales:{xAxes:[{ticks:{beginAtZero:!0},barPercentage:1,categoryPercentage:1}]},title:{display:!0,text:"Point distribution"},legend:{display:!1}},data:{labels:Array.from(c.keys()),datasets:[{labels:"Participant count",backgroundColor:this.props.theme.palette.primary.light,hoverBackgroundColor:this.props.theme.palette.secondary.light,data:Array.from(c.values())}]}})),a.a.createElement(g.g,{item:!0,xs:12},a.a.createElement(g.m,{className:this.props.classes.tableRoot},a.a.createElement(g.n,null,a.a.createElement(g.q,null,a.a.createElement(g.r,null,a.a.createElement(g.p,null,"Rank"),a.a.createElement(g.p,null,"Username"),a.a.createElement(g.p,null,"Score"))),a.a.createElement(g.o,null,t.filter(function(e){return"Lithuania"==e.country}).sort(function(e,t){return e.rank-t.rank}).map(function(e,t){return a.a.createElement(g.r,{key:t},a.a.createElement(g.p,null,e.rank),a.a.createElement(g.p,null,e.displayname),a.a.createElement(g.p,null,e.score1))}))))))}},{key:"render",value:function(){return a.a.createElement("main",{className:this.props.classes.content},a.a.createElement("div",{className:this.props.classes.toolbar}),this.state.isLoading?a.a.createElement(g.d,{className:this.props.classes.progress,color:"secondary"}):this.state.roundInfo?this.renderStats(this.state.roundInfo,this.state.roundResults):this.renderHelp())}}]),t}(r.Component)),B=n(168),L=Object(f.withStyles)(E)(function(e){var t=e.classes,n=e.onDrawerToggle;return a.a.createElement(g.a,{position:"fixed",className:t.appBar},a.a.createElement(g.s,null,a.a.createElement(g.i,{color:"inherit","aria-label":"Open drawer",onClick:n,className:t.menuButton},a.a.createElement(B.a,null)),a.a.createElement(g.t,{variant:"h6",color:"inherit",noWrap:!0},"Google Code Jam Statistics")))}),P=Object(f.withStyles)(E,{withTheme:!0})(function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={isDrawerOpen:!1},n.handleDrawerToggle=function(){n.setState({isDrawerOpen:!n.state.isDrawerOpen})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"renderDrawer",value:function(e){var t=this,n=this.props,r=n.classes,o=n.isLoading,s=n.rounds,c=n.onRoundClicked;return o?a.a.createElement(g.d,{className:r.progress}):a.a.createElement(g.j,null,s.map(function(n){return a.a.createElement(g.k,{key:n.id,button:!0},a.a.createElement(g.l,{primary:"".concat(n.displayName," ").concat(n.year),onClick:function(){e&&t.handleDrawerToggle(),c(n)}}))}))}},{key:"render",value:function(){var e=this.props.classes;return a.a.createElement("div",null,a.a.createElement(L,{onDrawerToggle:this.handleDrawerToggle}),a.a.createElement("nav",{className:e.drawer},a.a.createElement(g.h,{smUp:!0,implementation:"css"},a.a.createElement(g.f,{className:e.drawer,variant:"temporary",anchor:"rtl"===this.props.theme.direction?"right":"left",open:this.state.isDrawerOpen,onClose:this.handleDrawerToggle,classes:{paper:e.drawerPaper}},this.renderDrawer(!0))),a.a.createElement(g.h,{xsDown:!0,implementation:"css"},a.a.createElement(g.f,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},open:!0},a.a.createElement("div",{className:e.toolbar}),this.renderDrawer(!1)))))}}]),t}(r.Component)),I=Object(f.withStyles)(E)(function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={rounds:[],isLoading:!0},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("config.json").then(k);case 2:return t=e.sent,e.next=5,new Promise(function(e){return setTimeout(e,1e3)});case 5:this.setState({rounds:t.rounds,isLoading:!1});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoading,r=t.rounds,o=t.selectedRound,s=this.props.classes;return a.a.createElement("div",{className:s.root},a.a.createElement(P,Object.assign({},this.props,{isLoading:n,rounds:r,onRoundClicked:function(t){return e.setState({selectedRound:t})}})),a.a.createElement(R,Object.assign({},this.props,{round:o})))}}]),t}(r.Component)),z=n(41),M=Object(f.createMuiTheme)({palette:{primary:z.indigo,secondary:z.pink,type:"light"},typography:{useNextVariants:!0}}),W=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement(f.MuiThemeProvider,{theme:M},a.a.createElement(a.a.Fragment,null,a.a.createElement(g.e,null),a.a.createElement(I,null)))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(28);s.a.render(a.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5463,1,2]]]);
//# sourceMappingURL=main.c6a6cd70.chunk.js.map